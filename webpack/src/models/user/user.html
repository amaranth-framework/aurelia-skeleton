<template>
    <!-- if.bind="settings.mode == 'edit'" -->
    <div id="user-add-modal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Modal title</h4>
                </div>
                <div class="modal-body">
                    <form action="form-horizontal">
                        <input type="hidden" value.bind="_id">
                        <div class="form-group" validation-errors.bind="nameErrors" class.bind="nameErrors.length ? 'has-error' : ''">
                            <label for="name-${__uuid}" class="col-md-3">Full Name</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="name-${__uuid}" value.bind="name & validate" placeholder="John Doe">
                                <span class="help-block" repeat.for="errorInfo of nameErrors">
                                    ${errorInfo.error.message}
                                </span>
                            </div>
                        </div>
                        <div class="form-group" validation-errors.bind="emailErrors" class.bind="emailErrors.length ? 'has-error' : ''">
                            <label for="email-${__uuid}" class="col-md-3">Email</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="email-${__uuid}" value.bind="email & validate" placeholder="foo@foo.com">
                                <span class="help-block" repeat.for="errorInfo of emailErrors">
                                    ${errorInfo.error.message}
                                </span>
                            </div>
                        </div>
                        <div class="form-group" validation-errors.bind="passwordErrors" class.bind="passwordErrors.length ? 'has-error' : ''">
                            <label for="password-${__uuid}" class="col-md-3">Password</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="password-${__uuid}" value.bind="password & validate" placeholder="*************">
                                <span class="help-block" repeat.for="errorInfo of passwordErrors">
                                    ${errorInfo.error.message}
                                </span>
                            </div>
                        </div>
                        <div class="form-group" validation-errors.bind="usernameErrors" class.bind="usernameErrors.length ? 'has-error' : ''">
                            <label for="username-${__uuid}" class="col-md-3">Username</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="username-${__uuid}" value.bind="username & validate" placeholder="myusername">
                                <span class="help-block" repeat.for="errorInfo of usernameErrors">
                                    ${errorInfo.error.message}
                                </span>
                            </div>
                        </div>
                        <div class="form-group" validation-errors.bind="venueErrors" class.bind="venueErrors.length ? 'has-error' : ''">
                            <label for="type-${__uuid}" class="col-md-3">Venue</label>
                            <div class="col-md-9">
                                <select class="form-control" id="type-${__uuid}" value.bind="venue & validate">
                                    <option if.bind="!hasVenues" value="-">Loading Venues... </option>
                                    <option if.bind="isAdmin" value="">None</option>
                                    <option repeat.for="item of venues" value.bind="item._id">${item.name}</option>
                                </select>
                                <span class="help-block" repeat.for="errorInfo of venueErrors">
                                    ${errorInfo.error.message}
                                </span>
                            </div>
                        </div>
                        <div class="form-group" validation-errors.bind="typeErrors" class.bind="typeErrors.length ? 'has-error' : ''">
                            <label for="type-${__uuid}" class="col-md-3">User Type</label>
                            <div class="col-md-9">
                                <select if.bind="isAdmin" class="form-control" id="type-${__uuid}" value.bind="type & validate">
                                    <option value="admin">Admin</option>
                                    <option value="owner">Owner</option>
                                    <option value="employee">Employee</option>
                                </select>
                                <p if.bind="!isAdmin">Employee</p>
                                <span class="help-block" repeat.for="errorInfo of typeErrors">
                                    ${errorInfo.error.message}
                                </span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="never-expire-${__uuid}" class="col-md-3">Permanent User</label>
                            <div class="col-md-9">
                                <input id="never-expire-${__uuid}" type="checkbox" checked.bind="neverExpire">
                                User will never expire.
                            </div>
                        </div>
                        <div class="form-group" validation-errors.bind="expireErrors" class.bind="expireErrors.length ? 'has-error' : ''">
                            <label for="expire-${__uuid}" class="col-md-3">Expiration Date</label>
                            <div class="col-md-9">
                                <input type="date" class="form-control" id="expire-${__uuid}" value.bind="expire & validate" disabled.bind="neverExpire">
                                <span class="help-block" repeat.for="errorInfo of expireErrors">
                                    ${errorInfo.error.message}
                                </span>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <a route-href="route: users" class="btn btn-default" data-dismiss="modal">Close</a>
                    <button click.trigger="save()" type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</template>
